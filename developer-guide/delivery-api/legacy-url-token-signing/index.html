<!DOCTYPE html>
<html class="mkdocs-jwplayer ">
  <head>

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Legacy Token Signing - JW Platform Developer Guide</title>

    

    
      <meta name="description" content="JW Developers provides tools and resources for developers using JW Player, JW Platform and the Android and iOS SDKs." />
    

    
      <link rel="shortcut icon" href="../../http:/www.jwplayer.com/wp-content/themes/jwplayer-20/assets/images/favicon.ico">
    

    <link rel="stylesheet" href="../../css/mkdocs-jwplayer.min.css">

    

    
    

    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MBF9PW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MBF9PW');</script>

  </head>
  <body>
    <div class="site">

				<div class="site-top">
					<div class="site-header">
  <div class="site-header-container">
    <a class="logo" href="/">
      <img src="/img/jw-logo-mark-white.svg">
      <img src="/img/jw-logo-text-white.svg">
      <span class="developer">Developer</span>
    </a>
    <a class="menu-toggle" href="#">Menu</a>
    <ul class="menu">
      <li><a class="link" href="https://www.jwplayer.com">Company</a></li>
      <li><a class="link" href="https://www.jwplayer.com/blog">Blog</a></li>
      <li><a class="link" href="https://support.jwplayer.com">Support</a></li>
      <li><a class="link" href="https://dashboard.jwplayer.com">Sign-In</a></li>
      <li><a class="link" href="/search/"><img class="search-icon" src="//icons.jwplayer.com/icons/white/search.svg" width="15" /></a></li>
      <li><a class="btn md red" href="https://www.jwplayer.com/pricing/?utm_source=developer&utm_medium=CTA&utm_campaign=Developer%20Nav%20Upgrade">Upgrade</a></li>
    </ul>
  </div>
</div>
	        <div class="site-secondary-header">
  <div class="site-secondary-header-container">
    <div class="site-secondary-header-group">
      <div class="site-secondary-header-dropdown">
				<a class="site-secondary-header-dropdown-arrow" href="#"></a>
				<a href="/jw-player/" class="site-secondary-header-dropdown-link ">JW Player</a>
        <a href="/jw-platform/" class="site-secondary-header-dropdown-link is-selected">JW Platform</a>
        <a href="/android-sdk/" class="site-secondary-header-dropdown-link ">Android SDK</a>
        <a href="/ios-sdk/" class="site-secondary-header-dropdown-link ">iOS SDK</a>
        <a href="/tools/" class="site-secondary-header-dropdown-link ">Developer Tools</a>
        <a href="/release-notes/" class="site-secondary-header-dropdown-link">Release Notes</a>
      </div>
    </div>
		
		
	      <a href="/jw-platform/docs/delivery-api-reference/">Delivery API</a>      
	      <a href="/jw-platform/reference/v1/">Management API</a>
	      <a href="/jw-platform/docs/developer-guide/">Developer Guide</a>
	      <a href="/jw-platform/docs/developer-guide/release-notes/">Release Notes</a>
		
		
		
		
  </div>
</div>
	        <div class="page-header">
	<div class="page-label">
		
			Legacy Token Signing
		
	</div>
	<form class="search" action="../../search.html" method="get">
		<input type="search" name="q" placeholder="Search documentation..." />
	</form>
</div>
				</div>

        <div class="site-bottom">

					<div class="site-body">

	          <div class="page">

	            <div class="page-body">

	              <div class="scroll-to-top">
	<img src="//icons.jwplayer.com/icons/white/change-arrow-up.svg">
</div>

	              <div class="aside">
									
										<ul>
											
		                    
  <li >
    <a href="../..">Introduction</a>
  </li>

		                  
		                    
  <li>
    
      <span>Delivery API</span>
    
    <ul>
      
        
  <li >
    <a href="../">Overview</a>
  </li>

      
        
  <li >
    <a href="../embedding-players/">Embedding Players</a>
  </li>

      
        
  <li >
    <a href="../sources/">Source Selection</a>
  </li>

      
        
  <li >
    <a href="../url-token-signing/">URL Token Signing</a>
  </li>

      
        
  <li class="active">
    <a href="./">Legacy Token Signing</a>
  </li>

      
        
  <li >
    <a href="../widgets/playlist-widgets/">Feeds Widgets</a>
  </li>

      
        
  <li >
    <a href="../widgets/playlist-widget-css-reference/">Feeds Widget CSS Reference</a>
  </li>

      
    </ul>
  </li>

		                  
		                    
  <li>
    
      <span>Management API</span>
    
    <ul>
      
        
  <li >
    <a href="../../management-api/">Overview</a>
  </li>

      
        
  <li >
    <a href="../../management-api/uploading-videos/">Uploading Videos</a>
  </li>

      
        
  <li >
    <a href="../../management-api/batch-migration/">Batch Migrations</a>
  </li>

      
        
  <li >
    <a href="../../management-api/analytics/">Analytics</a>
  </li>

      
        
  <li >
    <a href="../../management-api/advertising/">Advertising</a>
  </li>

      
    </ul>
  </li>

		                  
		                    
  <li>
    
      <span>JW Showcase Applications</span>
    
    <ul>
      
        
  <li >
    <a href="../../jw-showcase/web/jw-showcase-for-web/">JW Showcase for Web</a>
  </li>

      
        
  <li >
    <a href="../../jw-showcase/apple-tv/jw-showcase-for-apple-tv/">JW Showcase for Apple TV</a>
  </li>

      
    </ul>
  </li>

		                  
		                    
  <li >
    <a href="../../release-notes/">Release Notes</a>
  </li>

		                  
										</ul>
							    
	              </div>

	              <div class="main">
	                
	                  <h1 id="legacy-url-token-signing-for-v1-delivery-api-endpoints">Legacy URL Token Signing for v1 Delivery API Endpoints</h1>
<p>The legacy (v1) Delivery API endpoints include a similar a security feature to <a href="https://developer.jwplayer.com/jw-platform/docs/developer-guide/delivery-api/url-token-signing/">v2 URL token signing</a> that allows you to restrict public access to videos or to videos plus players. This feature is enabled in the dashboard. When enabled, content can only be requested by constructing so-called signed links. These links will expire after a short time, preventing unauthorized sharing or leeching of your content.</p>
<h2 id="enabling-signing-enforcement">Enabling Signing Enforcement</h2>
<p>You can require URL token signing for assets related to your account through the Management API <a href="https://developer.jwplayer.com/jw-platform/reference/v1/methods/accounts/update.html">/accounts/update</a> call using the <code>allow_downloads</code> and <code>allow_embeds</code> parameters or via the dashboard as documented in the <a href="https://support.jwplayer.com/customer/en/portal/articles/1433647-jw-player-url-signing">support article</a>.</p>
<div class="alert warning">Please make sure you start to use signing on your site before changing this security setting! Unsigned videos and/or players will <strong>drop dead</strong> the instant you change this setting.</div>
<h2 id="signed-links">Signed Links</h2>
<div class="alert note">Delivery API v2 endpoints use a different signing mechanism described <a href="https://developer.jwplayer.com/jw-platform/docs/developer-guide/delivery-api/url-token-signing/">here</a></div>
<p>A video or player URL can be signed by appending two querystring parameters to the regular URL. Here's two examples and a description of the parameters:</p>
<ul>
<li>http://cdn.jwplayer.com/videos/nPripu9l.mp4?exp=1371335018&amp;sig=a0124258c73177029d09bb82c6608392</li>
<li>http://cdn.jwplayer.com/players/nPripu9l-ALJ3XQCI.js?exp=1371335035&amp;sig=f42664403879f61ece4f444d225ce507</li>
</ul>
<h3 id="the-exp-parameter">The <code>exp</code> Parameter</h3>
<p><code>exp</code> is the expiration date of the URL, as a UNIX timestamp (e.g. <em>1271338236</em>). Typically, generated URLs should be valid between a minute and a few hours.</p>
<h3 id="the-sig-parameter">The <code>sig</code> Parameter</h3>
<p><code>sig</code> is a signature that is used to authorize the request. This signature is an MD5 digest of the  path, the expiration date and the account secret:</p>
<pre><code>md5(CONTENT_PATH:EXPIRATION_STAMP:ACCOUNT_SECRET)
</code></pre>
<p>Here's a small explanation of the three signature parameters:</p>
<p><code>CONTENT_PATH</code> - This is only the path portion of the URL (e.g. <em>videos/nPripu9l.mp4</em>). No domain and no leading slash.</p>
<p><code>EXPIRATION_STAMP</code> - This is the expiration date again (e.g. <em>1271338236</em>).</p>
<p><code>ACCOUNT_SECRET</code> - This is the shared secret of your JW Platform account (e.g. <em>Ksi93hsy38sjKfha9JaheEMp</em>). It can be found in the <em>account</em> tab of the dashboard.</p>
<h2 id="using-signing">Using signing</h2>
<p>If you want to deny all public access to your videos or players, all you have to do is enable the security setting. There'll be no way for a third party to generate signed links, since they do not know your account secret. Your content will remain available for previewing / downloading within the dashboard.</p>
<p>If you want to secure your content, but still want to embed players or offer video downloads on your own site (e.g. if you have a pay-per-view site), then you should implement a small script on your site that automatically generates the signed links. For example, you could use a small PHP function like this one to always generate a valid signed URL:</p>
<pre><code class="php">&lt;?php
function get_signed_player($videokey,$playerkey) {
  $path = &quot;players/&quot;.$videokey.&quot;-&quot;.$playerkey.&quot;.js&quot;;
  $expires = round((time()+3600)/300)*300;
  $secret = &quot;Ksi93hsy38sjKfha9JaheEMp&quot;;
  $signature = md5($path.':'.$expires.':'.$secret);
  $url = 'http://cdn.jwplayer.com/'.$path.'?exp='.$expires.'&amp;sig='.$signature;
  return $url;
};

echo &quot;&lt;p&gt;Watch this cool video:&lt;/p&gt;&quot;;
echo &quot;&lt;script type='text/javascript' src='&quot;.get_signed_player('nPripu9l','ALJ3XQCI').&quot;'&gt;&lt;/script&gt;&quot;;
?&gt;
</code></pre>

<p>A couple of things to keep in mind when auto-generating signed links:</p>
<div class="alert warning">Signed links should always be generated serverside. Otherwise your shared secret will be exposed to the client. If you do want to use signed links in javascript or actionscript applications, setup a small serverside script to act as a proxy.</div>
<ul>
<li>The shorter you make the expiration dates, the more you lock down your content. If a link has expired, even download tools like Realplayer will not be able to grab the content. However, at a certain point you will run into expiration issues with slow-responding servers or small discrepancies in server time.</li>
<li>If you have a high-volume website, the extra signature generation step might be a performance issue. In that case, you could cache signed URLs with an interval of e.g. 5 minutes. Signed requests do not have to be unique.</li>
</ul>
<h2 id="error-handling">Error handling</h2>
<p>When unsigned content is requested while signing is enabled, the Delivery API will return a <strong>403 Access forbidden</strong> HTTP header.</p>
<p>When incorrectly signed content is requested, the Delivery API will also return a <strong>403 Access forbidden</strong> HTTP header. Signed URLs can be incorrect due to a wrong signature or due to an already expired timestamp.</p>
<p>Note that incorrectly signed URLs will always get a 403 returned and correctly signed URLs will always work. Use this to test and put in place your signing mechanism before actually enabling the security in the dashboard.</p>
	                
	                
	                  <div class="pagination prev-next">
	                    
	                      <a class="btn md" href="../url-token-signing/" title="URL Token Signing">Previous Page</a>
	                    
	                    
	                      <a class="btn md" href="../widgets/playlist-widgets/" title="Feeds Widgets"/>Next Page</a>
	                    
	                  </div>
	                
	              </div>

	            </div>

	          </div>
	        </div>

	        <footer class="global-site-footer">
  <div class="global-site-footer-container">
    <ul class="global-site-footer-row">
      <li>
        <a href="//www.jwplayer.com">
          <strong>JW Player</strong>
          <span>Browse our products, company,<br> resources, and pricing</span>
        </a>
      </li>
      <li>
        <a href="//dashboard.jwplayer.com">
          <strong>Dashboard</strong>
          <span>Content, players, analytics,<br> and account management</span>
        </a>
      </li>
      <li>
        <a class="selected" href="//developer.jwplayer.com">
          <strong>Developer</strong>
          <span>Join the community, demos,<br> references, dev guides, and tools.</span>
        </a>
      </li>
      <li>
        <a href="//support.jwplayer.com">
          <strong>Support</strong>
          <span>Search the articles, ask the<br> community, or give feedback</span>
        </a>
      </li>
    </ul>
    <div class="global-site-footer-row">
      <p>&copy; 2016 - <script>document.write(new Date().getFullYear())</script> | Longtail Ad Solutions, Inc. All Rights Reserved.<br>
        JW Player is a registered trademark.</p>
      <ul>
        <li><a href="//www.jwplayer.com/tos/">Terms of Service</a></li>
        <li><a href="//www.jwplayer.com/privacy/">Privacy Policy</a></li>
        <li><a href="//www.jwplayer.com/dmca/">DMCA</a></li>
        <li><a href="//www.jwplayer.com/privacy/#ad-choices">Ad Choices</a></li>
      </ul>
    </div>
  </div>
</footer>

        </div>

    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../../js/mkdocs-jwplayer.min.js"></script>

    

  </body>
</html>